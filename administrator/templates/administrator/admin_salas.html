{% extends 'core/base.html' %}
{% load static %} 

{% block title %}Gestión de Salas{% endblock %}
{% block page_css %}
<link rel="stylesheet" href="{% static 'administrator/style.css'  %}"> 
<link rel="stylesheet" href="{% static 'administrator/admin.css' %}">
<link rel="stylesheet" href="{% static 'administrator/admin_salas.css' %}">
{% endblock %} {% block content %}
<div class="centro">
  <h2 class="titulo">Gestion de salas</h2>
  <div class="form-container">
    <form id="productForm" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        <label for="nombre">Nombre de la sala:</label>
        <input type="text" id="nombre" name="nombre" required />
      </div>
      <div class="form-group">
        <label for="descripcion">Descripcion:</label>
        <textarea id="descripcion" name="descripcion" required></textarea>
      </div>
      
      <div class="form-group">
        <label for="imagen">Imagen:</label>
        <input type="file" id="imagen" name="imagen" required />
      </div>
     
     
      </div>

      <button type="submit" class="btn-action">Agregar Sala</button>
      {% if error %}
      <p style="color: red; margin-top: 10px">{{ error }}</p>
      {% endif %}
    </form>
  </div>
  <div class="salas-list">
    <h2>Lista de Salas</h2>
    <div id="salasContainer">
      {% for sala in salas %}
      <div class="sala-item">
        <span class="salas-info">
          <img
            src="{{ sala.imagen.url }}"
            alt="{{ sala.nombre }}"
            class="sala-image"
          />
          {{ sala.nombre }}
          <br>
            <small>{{ sala.descripcion }}</small> 
        </span>
        <div class="actions">
          <a
            href="{% url 'administrator:admin_salas_editar' sala.id %}"
            class="btn-edit"
            >Editar</a
          >
          <form
            action="{% url 'administrator:admin_salas_eliminar' sala.id %}"
            method="POST"
            style="display: inline"
            onsubmit="return confirm('¿Estás seguro de que quieres eliminar esta sala?');"
          >
            {% csrf_token %}
            <button type="submit" class="btn-delete">Eliminar</button>
          </form>
        </div>
      </div>
      {% empty %}
      <p>No hay salas registradas todavía.</p>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
